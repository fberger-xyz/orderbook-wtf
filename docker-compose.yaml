networks:
  tycho:
    external: true

  web:
    build:
      context: front
      dockerfile: ops/Dockerfile
    ports:
      - "3000:3000"
    volumes:
      - ./front:/app
      - node_modules:/app/node_modules
    command: pnpm dev
    environment:
      - NEXT_PUBLIC_STREAM_API_URL=http://ethereum:42042
      - NEXT_PUBLIC_WALLET_CONNECT_PROJECT_ID=572586a808fa0462edb485f181680943
      - API_HEADER_KEY=tycho-orderbook-web-api-key
      - API_HEADER_VALUE=42
      - HEARTBEATS=
      - APP_METADATA_SITE_URL=
    depends_on:
      - ethereum
    restart: always
    networks:
      - tycho

volumes:
  node_modules:
